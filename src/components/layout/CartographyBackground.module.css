/* ======================================================
   ROOT
====================================================== */

.cartography {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
  color: var(--carto-ink);
}

.svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* ======================================================
   LIGHT THEME – REBEL MAP MODE
====================================================== */

:global(html[data-theme="light"]) .cartography {
  --carto-ink: #2b2f33;
  background:
    radial-gradient(circle at 70% 60%, #e8e6df 0%, transparent 70%),
    radial-gradient(circle at 30% 40%, #eeece6 0%, transparent 60%),
    #f2f1eb;
}

/* ======================================================
   STARS AS CHART POINTS
====================================================== */

.chartStars {
  fill: currentColor;
  opacity: 0.36;
}

:global(html[data-theme="light"]) .chartStars {
  fill: #2d3237;
  opacity: 0.22;
}

/* ======================================================
   ORBIT LINES – TECHNICAL
====================================================== */

.orbits {
  opacity: 0.22;
}

:global(html[data-theme="light"]) .orbits {
  opacity: 0.34;
  color: #3a3e44;
}

/* ======================================================
   PAPER SMUDGES – ANALOG FEEL
====================================================== */

.paperLayer {
  mix-blend-mode: multiply;
  opacity: 0.32;
  color: #6e747b;
}

:global(html[data-theme="light"]) .paperLayer {
  opacity: 0.26;
  color: #8c8f93;
}

/* ======================================================
   PLANETS – SCHEMATIC LINE ART
====================================================== */

.planets {
  pointer-events: none;
}

.planetOutline {
  stroke: currentColor;
  stroke-width: 1.2;
  fill: none;
  opacity: 0.6;
}

.planetLarge {
  transform: translateY(var(--p-large));
  transform-origin: 88% 86%;
}

.planetSmall {
  transform: translateY(var(--p-small));
  transform-origin: 22% 18%;
}

/* Light theme schematic planets */
:global(html[data-theme="light"]) .planetOutline {
  stroke: #3b3f44;
  opacity: 0.72;
}

/* ======================================================
   CONSTELLATIONS – TECHNICAL BLUEPRINT LINES
====================================================== */

.constellation {
  opacity: 0.68;
  color: #2f3439;
}

:global(html[data-theme="light"]) .constellation {
  opacity: 0.56;
  color: #2c3035;
}

/* ======================================================
   RESPONSIVE TUNING
====================================================== */

@media (max-width: 900px) {
  .planetLarge {
    transform-origin: 94% 92%;
  }

  .planetSmall {
    transform-origin: 34% 22%;
  }
}

@media (max-width: 640px) {
  .planetLarge {
    transform-origin: 98% 98%;
  }

  .planetSmall {
    transform-origin: 42% 24%;
  }
}

/* ======================================================
   REDUCED MOTION
====================================================== */

@media (prefers-reduced-motion: reduce) {
  .planetLarge,
  .planetMedium,
  .planetSmall {
    transform: none;
  }
}

/* ======================================================
   BLUEPRINT GRID SYSTEM
====================================================== */

.blueprintGrid {
  display: none;
}

.blueprintTicks {
  display: none;
}

/* Light theme only – blueprint mode */
:global(html[data-theme="light"]) .blueprintGrid {
  display: block;
  opacity: 0.24;
  color: #3b4045;
  mix-blend-mode: multiply;
}

:global(html[data-theme="light"]) .blueprintTicks {
  display: block;
  opacity: 0.18;
  color: #2f3338;
  mix-blend-mode: multiply;
}

:global(html[data-theme="light"]) .cartography {
  background:
    repeating-linear-gradient(
      0deg,
      rgba(60, 64, 70, 0.03) 0px,
      rgba(60, 64, 70, 0.03) 1px,
      transparent 1px,
      transparent 120px
    ),
    radial-gradient(circle at 70% 60%, #e8e6df 0%, transparent 70%),
    radial-gradient(circle at 30% 40%, #eeece6 0%, transparent 60%),
    #f2f1eb;
}

/* ======================================================
   COORDINATE LABEL SYSTEM
====================================================== */

.coordinates {
  display: none;
}

/* Light theme only */
:global(html[data-theme="light"]) .coordinates {
  display: block;
  opacity: 0.55;
  color: #2e3338;
  mix-blend-mode: multiply;
}

/* Make them softer on small screens */
@media (max-width: 900px) {
  :global(html[data-theme="light"]) .coordinates {
    opacity: 0.38;
  }
}

@media (max-width: 600px) {
  :global(html[data-theme="light"]) .coordinates {
    display: none; /* avoid clutter on phones */
  }
}

/* ======================================================
   SCANNING CURSOR
====================================================== */

.scanner {
  display: none;
}

/* Light theme only */
:global(html[data-theme="light"]) .scanner {
  display: block;

  color: #2b3238;

  opacity: 0.42;

  animation: scan 14s linear infinite;

  mix-blend-mode: multiply;
}

@keyframes scan {
  0% {
    transform: translateX(-160px);
  }
  100% {
    transform: translateX(1600px);
  }
}

/* Softer on tablets */
@media (max-width: 900px) {
  :global(html[data-theme="light"]) .scanner {
    opacity: 0.28;
    animation-duration: 18s;
  }
}

/* Disabled on phones to avoid clutter */
@media (max-width: 640px) {
  :global(html[data-theme="light"]) .scanner {
    display: none;
  }
}

/* ======================================================
   SECTOR MARKERS
====================================================== */

.sectorMarkers {
  pointer-events: none;
  color: var(--category-accent);
  opacity: 0.72;
  transition: opacity 400ms ease, color 400ms ease;
}

.marker {
  animation: pulse 5s ease-in-out infinite;
  transform-origin: center;
}

/* stagger the pulses */
.marker:nth-child(2) {
  animation-delay: 1.2s;
}

.marker:nth-child(3) {
  animation-delay: 2.4s;
}

.marker:nth-child(4) {
  animation-delay: 3.6s;
}

@keyframes pulse {
  0% {
    opacity: 0.55;
    transform: scale(1);
  }
  50% {
    opacity: 0.95;
    transform: scale(1.12);
  }
  100% {
    opacity: 0.55;
    transform: scale(1);
  }
}

/* LIGHT THEME TUNING */
:global(html[data-theme="light"]) .sectorMarkers {
  opacity: 0.48;
}

/* MOBILE SAFETY */
@media (max-width: 900px) {
  .sectorMarkers {
    opacity: 0.38;
  }
}

@media (max-width: 640px) {
  .sectorMarkers {
    display: none; /* avoid clutter on small screens */
  }
}

/* REDUCED MOTION */
@media (prefers-reduced-motion: reduce) {
  .marker {
    animation: none;
  }
}

/* Add this NEW layer */

.starfield {
  position: absolute;
  inset: 0;

  background-image:
    radial-gradient(2px 2px at 20px 30px, white, rgba(0,0,0,0)),
    radial-gradient(2px 2px at 40px 70px, white, rgba(0,0,0,0)),
    radial-gradient(2px 2px at 90px 40px, white, rgba(0,0,0,0)),
    radial-gradient(2px 2px at 160px 80px, white, rgba(0,0,0,0)),
    radial-gradient(2px 2px at 200px 200px, white, rgba(0,0,0,0)),
    radial-gradient(2px 2px at 300px 100px, white, rgba(0,0,0,0));

  background-repeat: repeat;
  background-size: 400px 400px;

  z-index: -1;
  pointer-events: none;
}

:global(html[data-theme="light"]) .starfield {
  display: none;
}
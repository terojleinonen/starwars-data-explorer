/* =====================================================
   ROOT LAYER
===================================================== */

.cartography {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;

  color: var(--carto-ink, #cdd4e0);

  /* BASE DARK SPACE BACKGROUND */
  background: radial-gradient(
    ellipse at center,
    #080d18 0%,
    #03050a 100%
  );
}

/* CSS STARFIELD OVERLAY â€“ CRITICAL MISSING PIECE */
.starfield {
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(1px 1px at 20% 30%, rgba(255,255,255,0.8), transparent),
    radial-gradient(1px 1px at 60% 70%, rgba(255,255,255,0.7), transparent),
    radial-gradient(1px 1px at 80% 20%, rgba(255,255,255,0.6), transparent),
    radial-gradient(2px 2px at 40% 80%, rgba(255,255,255,0.9), transparent);
  background-size: 300px 300px;
  opacity: 0.25;
  mix-blend-mode: screen;
  pointer-events: none;
}

.svg {
  width: 100%;
  height: 100%;
  display: block;
  background: transparent;   /* DO NOT color the SVG itself */
}

/* =====================================================
   STAR FIELD SYSTEM (SVG PATTERNS)
===================================================== */

.starsFar {
  opacity: 0.35;
  color: #6f7a8a;
}

.starsMid {
  opacity: 0.55;
  color: #9aa6b6;
}

.starsNear {
  opacity: 0.75;
  color: #cdd4e0;
  filter: drop-shadow(0 0 2px rgba(255, 255, 255, 0.25));
}

/* =====================================================
   HEX GRID SYSTEM
===================================================== */

.hexGrid {
  opacity: 0.12;
}

.hexGridSmall {
  opacity: 0.08;
}

/* =====================================================
   RADAR SWEEP SYSTEM
===================================================== */

.radarSystem {
  pointer-events: none;
  opacity: 0.45;
  mix-blend-mode: screen;
}

.sweep {
  transform-origin: 50% 50%;
  animation: radarRotate 20s linear infinite;
}

@keyframes radarRotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* =====================================================
   SECTOR MARKERS
===================================================== */

.sectorMarkers {
  pointer-events: none;
}

.marker {
  transform-origin: center;
  animation: markerPulse 4s ease-in-out infinite;
}

@keyframes markerPulse {
  0% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.25); }
  100% { opacity: 0.6; transform: scale(1); }
}

/* =====================================================
   PLANET SYSTEM
===================================================== */

.planetLarge {
  opacity: 0.85;
  mix-blend-mode: screen;
}

/* =====================================================
   CONSTELLATIONS
===================================================== */

.constellation {
  opacity: 0.72;
  transition: opacity 400ms ease;
  mix-blend-mode: screen;
}

/* =====================================================
   ACTIVE CATEGORY HIGHLIGHTING
===================================================== */

.highlighted {
  opacity: 1;
  transition: opacity 300ms ease;
}

.dimmed {
  opacity: 0.25;
  transition: opacity 300ms ease;
}

/* =====================================================
   PERFORMANCE / REDUCED MOTION
===================================================== */

@media (prefers-reduced-motion: reduce) {
  .sweep { animation: none; }
  .marker { animation: none; }
  .constellation { transition: none; }
}

/* =====================================================
   RESPONSIVE TUNING
===================================================== */

@media (max-width: 1024px) {
  .hexGrid { opacity: 0.09; }
  .starsNear { opacity: 0.65; }
  .radarSystem { opacity: 0.35; }
}

@media (max-width: 640px) {
  .hexGrid { opacity: 0.06; }
  .hexGridSmall { opacity: 0.05; }

  .starsNear { opacity: 0.55; }
  .starsMid { opacity: 0.45; }

  .radarSystem { opacity: 0.25; }

  .constellation { opacity: 0.55; }
}

/* =====================================================
   LIGHT THEME OVERRIDES
===================================================== */

:global(html[data-theme="light"]) .cartography {
  background: radial-gradient(
    ellipse at center,
    #e6ebf2 0%,
    #cfd6e0 100%
  );
}

:global(html[data-theme="light"]) .starfield {
  opacity: 0.12;
  mix-blend-mode: multiply;
}

:global(html[data-theme="light"]) .hexGrid {
  opacity: 0.18;
}

:global(html[data-theme="light"]) .radarSystem {
  opacity: 0.2;
}